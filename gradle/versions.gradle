/* * * * * * * * * * * * * * * * *
 * Default project info
 * * * * * * * * * * * * * * * * */


Properties props = new Properties()
file("${project.projectDir}/version.properties").withReader { props.load(it) }

def defaultVersion = props.getProperty("version")
def group = props.getProperty("group")

def propSuffix = { prefix, suffixKeyName ->
    return rootProject.properties.containsKey(suffixKeyName)
            ? "${prefix}-${rootProject.properties[suffixKeyName]}" : prefix
}

ext {
    prop = { name, defValue ->
        return rootProject.properties.containsKey(name)
                ? rootProject.properties[name] : defValue
    }

    javaVersion = "21"

    sonarUrl = prop("sonarUrl", null)
    sonarToken = prop("sonarToken", null)

    signingKeyId = prop("signing.keyId", null)

    groupId = group
    originalVersion = defaultVersion
    version = propSuffix(defaultVersion, "SUFFIX")

    apiZenrows = prop("LORCANA_ZENROWS", "invalid")

    projectVersionCode = 1
    sentry = "__"
}
